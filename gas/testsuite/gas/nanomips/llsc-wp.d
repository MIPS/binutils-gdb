#objdump: -dr --no-show-raw-insn
#name: nanoMIPS LL/SC paired macro expansions
#as: -meva

# Test LL/SC paired macro expansions

.*: +file format .*nanomips.*
Disassembly of section \.text:

00000000 <test>:
   0:	llwp	a0,t5,\(zero\)
   4:	llwp	a1,t5,\(zero\)
   8:	li	a2,8
   a:	llwp	a2,t5,\(a2\)
   e:	li	a3,8
  10:	llwp	a3,t5,\(a3\)
  14:	li	a4,32760
  18:	llwp	a4,t5,\(a4\)
  1c:	li	a5,-3276
  20:	llwp	a5,t5,\(a5\)
  24:	li	a6,65528
  28:	llwp	a6,t5,\(a6\)
  2c:	lui	a7,%hi\(0xffff0000\)
  30:	llwp	a7,s0,\(a7\)
  34:	lui	a7,%hi\(0xffff8000\)
  38:	llwp	a7,s1,\(a7\)
  3c:	lui	a7,%hi\(0xf0000000\)
  40:	llwp	a7,s4,\(a7\)
  44:	li	a7,-8
  48:	llwp	a7,s5,\(a7\)
  4c:	li	a7,0x12345678
  52:	llwp	a7,s6,\(a7\)
  56:	llwp	a7,s7,\(a0\)
  5a:	llwp	a7,t8,\(a0\)
  5e:	addiu	a0,a1,4
  62:	llwp	a0,a1,\(a0\)
  66:	addiu	a1,a0,32767
  6a:	llwp	a1,a2,\(a1\)
  6e:	addiu	a2,a0,-3276
  72:	llwp	a2,a0,\(a2\)
  76:	addiu	a3,a0,65535
  7a:	llwp	a3,a4,\(a3\)
  7e:	lui	a4,%hi\(0xffff0000\)
  82:	addu	a4,a4,a0
  86:	llwp	a4,a0,\(a4\)
  8a:	lui	a5,%hi\(0xffff8000\)
  8e:	addu	a5,a5,a0
  92:	llwp	a5,a6,\(a5\)
  96:	li	a6,0xffff0001
  9c:	addu	a6,a6,a0
  a0:	llwp	a6,a7,\(a6\)
  a4:	li	a7,0xffff8001
  aa:	addu	a7,a7,a0
  ae:	llwp	a7,a0,\(a7\)
  b2:	lui	t8,%hi\(0xf0000000\)
  b6:	addu	t8,t8,a0
  ba:	llwp	t8,t9,\(t8\)
  be:	addiu	s0,a0,-1
  c2:	llwp	s0,s1,\(s0\)
  c6:	li	s1,0x12345678
  cc:	addu	s1,s1,a0
  d0:	llwp	s1,s2,\(s1\)
  d4:	scwp	a0,t5,\(zero\)
  d8:	scwp	a1,t5,\(zero\)
  dc:	li	at,8
  e0:	scwp	a2,t5,\(at\)
  e4:	li	at,8
  e8:	scwp	a3,t5,\(at\)
  ec:	li	at,32760
  f0:	scwp	a4,t5,\(at\)
  f4:	li	at,-3276
  f8:	scwp	a5,t5,\(at\)
  fc:	li	at,65528
 100:	scwp	a6,t5,\(at\)
 104:	lui	at,%hi\(0xffff0000\)
 108:	scwp	a7,s0,\(at\)
 10c:	lui	at,%hi\(0xffff8000\)
 110:	scwp	a7,s1,\(at\)
 114:	lui	at,%hi\(0xf0000000\)
 118:	scwp	a7,s4,\(at\)
 11c:	li	at,-8
 120:	scwp	a7,s5,\(at\)
 124:	li	at,0x12345678
 12a:	scwp	a7,s6,\(at\)
 12e:	scwp	a7,s7,\(a0\)
 132:	scwp	a7,t8,\(a0\)
 136:	addiu	at,a1,4
 13a:	scwp	a0,a1,\(at\)
 13e:	addiu	at,a0,32767
 142:	scwp	a1,a2,\(at\)
 146:	addiu	at,a0,-3276
 14a:	scwp	a2,a0,\(at\)
 14e:	addiu	at,a0,65535
 152:	scwp	a3,a4,\(at\)
 156:	lui	at,%hi\(0xffff0000\)
 15a:	addu	at,at,a0
 15e:	scwp	a4,a0,\(at\)
 162:	lui	at,%hi\(0xffff8000\)
 166:	addu	at,at,a0
 16a:	scwp	a5,a6,\(at\)
 16e:	li	at,0xffff0001
 174:	addu	at,at,a0
 178:	scwp	a6,a7,\(at\)
 17c:	li	at,0xffff8001
 182:	addu	at,at,a0
 186:	scwp	a7,a0,\(at\)
 18a:	lui	at,%hi\(0xf0000000\)
 18e:	addu	at,at,a0
 192:	scwp	t8,t9,\(at\)
 196:	addiu	at,a0,-1
 19a:	scwp	s0,s1,\(at\)
 19e:	li	at,0x12345678
 1a4:	addu	at,at,a0
 1a8:	scwp	s1,s2,\(at\)
 1ac:	li	a0,0x0
			1ae: R_NANOMIPS_I32	.data
 1b2:	llwpe	a0,t5,\(a0\)
 1b6:	li	a1,0x0
			1b8: R_NANOMIPS_I32	big_external_data_label
 1bc:	llwpe	a1,t5,\(a1\)
 1c0:	addiu	a2,gp,0
			1c0: R_NANOMIPS_GPREL19_S2	small_external_data_label
 1c4:	llwpe	a2,t5,\(a2\)
 1c8:	li	a3,0x0
			1ca: R_NANOMIPS_I32	big_external_common
 1ce:	llwpe	a3,t5,\(a3\)
 1d2:	addiu	a4,gp,0
			1d2: R_NANOMIPS_GPREL19_S2	small_external_common
 1d6:	llwpe	a4,t5,\(a4\)
 1da:	li	a5,0x0
			1dc: R_NANOMIPS_I32	.bss
 1e0:	llwpe	a5,t5,\(a5\)
 1e4:	addiu	a6,gp,0
			1e4: R_NANOMIPS_GPREL19_S2	.sbss
 1e8:	llwpe	a6,t5,\(a6\)
 1ec:	li	a7,0x0
			1ee: R_NANOMIPS_I32	.data\+0x1
 1f2:	llwpe	a7,s0,\(a7\)
 1f6:	li	a7,0x0
			1f8: R_NANOMIPS_I32	big_external_data_label\+0x1
 1fc:	llwpe	a7,s1,\(a7\)
 200:	addiu	a7,gp,0
			200: R_NANOMIPS_GPREL19_S2	small_external_data_label\+0x1
 204:	llwpe	a7,s4,\(a7\)
 208:	li	a7,0x0
			20a: R_NANOMIPS_I32	big_external_common\+0x1
 20e:	llwpe	a7,s5,\(a7\)
 212:	addiu	a7,gp,0
			212: R_NANOMIPS_GPREL19_S2	small_external_common\+0x1
 216:	llwpe	a7,s6,\(a7\)
 21a:	li	a7,0x0
			21c: R_NANOMIPS_I32	.bss\+0x1
 220:	llwpe	a7,s7,\(a7\)
 224:	addiu	a7,gp,0
			224: R_NANOMIPS_GPREL19_S2	.sbss\+0x1
 228:	llwpe	a7,t8,\(a7\)
 22c:	li	a0,0x0
			22e: R_NANOMIPS_I32	.data\+0x8000
 232:	llwpe	a0,a1,\(a0\)
 236:	li	a1,0x0
			238: R_NANOMIPS_I32	big_external_data_label\+0x8000
 23c:	llwpe	a1,a2,\(a1\)
 240:	addiu	a2,gp,0
			240: R_NANOMIPS_GPREL19_S2	small_external_data_label\+0x8000
 244:	llwpe	a2,a0,\(a2\)
 248:	li	a3,0x0
			24a: R_NANOMIPS_I32	big_external_common\+0x8000
 24e:	llwpe	a3,a4,\(a3\)
 252:	addiu	a4,gp,0
			252: R_NANOMIPS_GPREL19_S2	small_external_common\+0x8000
 256:	llwpe	a4,a0,\(a4\)
 25a:	li	a5,0x0
			25c: R_NANOMIPS_I32	.bss\+0x8000
 260:	llwpe	a5,a6,\(a5\)
 264:	addiu	a6,gp,0
			264: R_NANOMIPS_GPREL19_S2	.sbss\+0x8000
 268:	llwpe	a6,a7,\(a6\)
 26c:	li	a7,0x0
			26e: R_NANOMIPS_I32	.data-0xccc
 272:	llwpe	a7,a0,\(a7\)
 276:	li	t8,0x0
			278: R_NANOMIPS_I32	big_external_data_label-0xccc
 27c:	llwpe	t8,t9,\(t8\)
 280:	li	s0,0x0
			282: R_NANOMIPS_I32	small_external_data_label-0xccc
 286:	llwpe	s0,s1,\(s0\)
 28a:	li	s1,0x0
			28c: R_NANOMIPS_I32	big_external_common-0xccc
 290:	llwpe	s1,s2,\(s1\)
 294:	li	at,0x0
			296: R_NANOMIPS_I32	.bss-0xccc
 29a:	scwpe	a0,t5,\(at\)
 29e:	li	at,0x0
			2a0: R_NANOMIPS_I32	.sbss-0xccc
 2a4:	scwpe	a1,t5,\(at\)
 2a8:	li	at,0x0
			2aa: R_NANOMIPS_I32	small_external_common-0xccc
 2ae:	scwpe	a2,t5,\(at\)
 2b2:	li	at,0x0
			2b4: R_NANOMIPS_I32	.data-0x1
 2b8:	scwpe	a3,t5,\(at\)
 2bc:	li	at,0x0
			2be: R_NANOMIPS_I32	big_external_data_label-0x1
 2c2:	scwpe	a4,t5,\(at\)
 2c6:	li	at,0x0
			2c8: R_NANOMIPS_I32	small_external_data_label-0x1
 2cc:	scwpe	a5,t5,\(at\)
 2d0:	li	at,0x0
			2d2: R_NANOMIPS_I32	big_external_common-0x1
 2d6:	scwpe	a6,t5,\(at\)
 2da:	li	at,0x0
			2dc: R_NANOMIPS_I32	small_external_common-0x1
 2e0:	scwpe	a7,s0,\(at\)
 2e4:	li	at,0x0
			2e6: R_NANOMIPS_I32	.bss-0x1
 2ea:	scwpe	a7,s1,\(at\)
 2ee:	li	at,0x0
			2f0: R_NANOMIPS_I32	.sbss-0x1
 2f4:	scwpe	a7,s4,\(at\)
#pass