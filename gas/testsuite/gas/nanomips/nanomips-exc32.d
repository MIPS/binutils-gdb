#objdump: -dr --prefix-addresses --show-raw-insn
#name: New nanoMIPS instructions in 32-bit fixed instruction mode
#as: -minsn32 --defsym insn32=
#source: nanomips-exc.s


# Check exclusive nanoMIPS 32-bit instructions

.*: +file format .*nanomips.*

Disassembly of section \.text:
[0-9a-f]+ <[^>]+> 8508 8000 	lw	a4,0\(a4\)
[0-9a-f]+ <[^>]+> 8529 8004 	lw	a5,4\(a5\)
[0-9a-f]+ <[^>]+> 854a 8008 	lw	a6,8\(a6\)
[0-9a-f]+ <[^>]+> 856b 800c 	lw	a7,12\(a7\)
[0-9a-f]+ <[^>]+> 8504 8000 	lw	a4,0\(a0\)
[0-9a-f]+ <[^>]+> 8525 8004 	lw	a5,4\(a1\)
[0-9a-f]+ <[^>]+> 8546 8008 	lw	a6,8\(a2\)
[0-9a-f]+ <[^>]+> 8567 800c 	lw	a7,12\(a3\)
[0-9a-f]+ <[^>]+> 8510 8000 	lw	a4,0\(s0\)
[0-9a-f]+ <[^>]+> 8531 8004 	lw	a5,4\(s1\)
[0-9a-f]+ <[^>]+> 8552 8008 	lw	a6,8\(s2\)
[0-9a-f]+ <[^>]+> 8573 800c 	lw	a7,12\(s3\)
[0-9a-f]+ <[^>]+> 8514 8000 	lw	a4,0\(s4\)
[0-9a-f]+ <[^>]+> 8535 8004 	lw	a5,4\(s5\)
[0-9a-f]+ <[^>]+> 8556 8008 	lw	a6,8\(s6\)
[0-9a-f]+ <[^>]+> 8577 800c 	lw	a7,12\(s7\)
[0-9a-f]+ <[^>]+> 8488 8000 	lw	a0,0\(a4\)
[0-9a-f]+ <[^>]+> 84a9 8004 	lw	a1,4\(a5\)
[0-9a-f]+ <[^>]+> 84ca 8008 	lw	a2,8\(a6\)
[0-9a-f]+ <[^>]+> 84eb 800c 	lw	a3,12\(a7\)
[0-9a-f]+ <[^>]+> 8608 9000 	sw	s0,0\(a4\)
[0-9a-f]+ <[^>]+> 8629 9004 	sw	s1,4\(a5\)
[0-9a-f]+ <[^>]+> 864a 9008 	sw	s2,8\(a6\)
[0-9a-f]+ <[^>]+> 866b 900c 	sw	s3,12\(a7\)
[0-9a-f]+ <[^>]+> 8688 9000 	sw	s4,0\(a4\)
[0-9a-f]+ <[^>]+> 86a9 9004 	sw	s5,4\(a5\)
[0-9a-f]+ <[^>]+> 86ca 9008 	sw	s6,8\(a6\)
[0-9a-f]+ <[^>]+> 86eb 900c 	sw	s7,12\(a7\)
[0-9a-f]+ <[^>]+> 8684 9000 	sw	s4,0\(a0\)
[0-9a-f]+ <[^>]+> 86a5 9004 	sw	s5,4\(a1\)
[0-9a-f]+ <[^>]+> 86c6 9008 	sw	s6,8\(a2\)
[0-9a-f]+ <[^>]+> 86e7 900c 	sw	s7,12\(a3\)
[0-9a-f]+ <[^>]+> 8690 9000 	sw	s4,0\(s0\)
[0-9a-f]+ <[^>]+> 86b1 9004 	sw	s5,4\(s1\)
[0-9a-f]+ <[^>]+> 86d2 9008 	sw	s6,8\(s2\)
[0-9a-f]+ <[^>]+> 86f3 900c 	sw	s7,12\(s3\)
[0-9a-f]+ <[^>]+> 8694 9000 	sw	s4,0\(s4\)
[0-9a-f]+ <[^>]+> 86b5 9004 	sw	s5,4\(s5\)
[0-9a-f]+ <[^>]+> 86d6 9008 	sw	s6,8\(s6\)
[0-9a-f]+ <[^>]+> 86f7 900c 	sw	s7,12\(s7\)
[0-9a-f]+ <[^>]+> 8494 9000 	sw	a0,0\(s4\)
[0-9a-f]+ <[^>]+> 84b5 9004 	sw	a1,4\(s5\)
[0-9a-f]+ <[^>]+> 84d6 9008 	sw	a2,8\(s6\)
[0-9a-f]+ <[^>]+> 84f7 900c 	sw	a3,12\(s7\)
[0-9a-f]+ <[^>]+> 8614 9000 	sw	s0,0\(s4\)
[0-9a-f]+ <[^>]+> 8635 9004 	sw	s1,4\(s5\)
[0-9a-f]+ <[^>]+> 8656 9008 	sw	s2,8\(s6\)
[0-9a-f]+ <[^>]+> 8677 900c 	sw	s3,12\(s7\)
[0-9a-f]+ <[^>]+> 4803 8000 	brsc	t5
[0-9a-f]+ <[^>]+> 481f 8000 	brsc	ra
[0-9a-f]+ <[^>]+> 4a11 8200 	balrsc	s0,s1
[0-9a-f]+ <[^>]+> 4bf1 8200 	balrsc	ra,s1
[0-9a-f]+ <[^>]+> 446d 2345 	addiu	t5,gp,74565
[0-9a-f]+ <[^>]+> c84c 0800 	bgeiuc	t4,1,[0-9a-f]+ <[^>]+>
			d4: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> c84f f800 	bgeiuc	t4,127,[0-9a-f]+ <[^>]+>
			d8: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> c85c 0800 	bltiuc	t4,1,[0-9a-f]+ <[^>]+>
			dc: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> c85f f800 	bltiuc	t4,127,[0-9a-f]+ <[^>]+>
			e0: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> 2062 201f 	extw	a0,t4,t5,0
[0-9a-f]+ <[^>]+> 2062 261f 	extw	a0,t4,t5,24
[0-9a-f]+ <[^>]+> 2062 241f 	extw	a0,t4,t5,16
[0-9a-f]+ <[^>]+> 2062 221f 	extw	a0,t4,t5,8
[0-9a-f]+ <[^>]+> 2062 205f 	extw	a0,t4,t5,1
[0-9a-f]+ <[^>]+> 2062 209f 	extw	a0,t4,t5,2
[0-9a-f]+ <[^>]+> 2062 20df 	extw	a0,t4,t5,3
[0-9a-f]+ <[^>]+> 2062 211f 	extw	a0,t4,t5,4
[0-9a-f]+ <[^>]+> 2003 2290 	move	a0,t5
[0-9a-f]+ <[^>]+> 2003 2290 	move	a0,t5
[0-9a-f]+ <[^>]+> 2062 261f 	extw	a0,t4,t5,24
[0-9a-f]+ <[^>]+> 2062 241f 	extw	a0,t4,t5,16
[0-9a-f]+ <[^>]+> 2062 221f 	extw	a0,t4,t5,8
[0-9a-f]+ <[^>]+> 20c5 2447 	lwxs	a0,a1\(a2\)
[0-9a-f]+ <[^>]+> 2230 3c47 	lwxs	a3,s0\(s1\)
[0-9a-f]+ <[^>]+> 2093 9447 	lwxs	s2,s3\(a0\)
[0-9a-f]+ <[^>]+> 4200 0003 	sw	s0,0\(gp\)
			124: R_NANOMIPS_GPREL19_S2	x
[0-9a-f]+ <[^>]+> 4220 0013 	sw	s1,16\(gp\)
[0-9a-f]+ <[^>]+> 04a0 0000 	lapc	a1,00000000 <[^>]+>
			12c: R_NANOMIPS_PC21_S1	test
[0-9a-f]+ <[^>]+> 04a0 0000 	lapc	a1,00000000 <[^>]+>
			130: R_NANOMIPS_PC21_S1	test2
[0-9a-f]+ <[^>]+> 8483 3fa0 	pref	0x4,4000\(t5\)
[0-9a-f]+ <[^>]+> a483 98e2 	pref	0x4,-30\(t5\)
[0-9a-f]+ <[^>]+> 8483 3000 	pref	0x4,0\(t5\)
			13c: R_NANOMIPS_LO12	test
[0-9a-f]+ <[^>]+> c884 c000 	bbeqzc	a0,24,[0-9a-f]+ <[^>]+>
			140: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> c884 0800 	bbeqzc	a0,1,[0-9a-f]+ <[^>]+>
			144: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> c884 f800 	bbeqzc	a0,31,[0-9a-f]+ <[^>]+>
			148: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> c894 0000 	bbnezc	a0,0,[0-9a-f]+ <[^>]+>
			14c: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> c894 8000 	bbnezc	a0,16,[0-9a-f]+ <[^>]+>
			150: R_NANOMIPS_PC11_S1	test
[0-9a-f]+ <[^>]+> 2083 0000 	teq	t5,a0
[0-9a-f]+ <[^>]+> 20c5 0400 	tne	a1,a2
[0-9a-f]+ <[^>]+> 2083 3000 	teq	t5,a0,0x6
[0-9a-f]+ <[^>]+> 20c5 3c00 	tne	a1,a2,0x7
[0-9a-f]+ <[^>]+> a445 2104 	ualh	t4,4\(a1\)
[0-9a-f]+ <[^>]+> a445 2904 	uash	t4,4\(a1\)
[0-9a-f]+ <[^>]+> a445 4504 	ualwm	t4,4\(a1\),4
[0-9a-f]+ <[^>]+> a445 6d04 	uaswm	t4,4\(a1\),6
[0-9a-f]+ <[^>]+> a445 1504 	ualwm	t4,4\(a1\),1
[0-9a-f]+ <[^>]+> a445 1d04 	uaswm	t4,4\(a1\),1
[0-9a-f]+ <[^>]+> a445 0504 	ualwm	t4,4\(a1\),8
[0-9a-f]+ <[^>]+> a445 7d04 	uaswm	t4,4\(a1\),7
[0-9a-f]+ <[^>]+> a445 0404 	lwm	t4,4\(a1\),8
[0-9a-f]+ <[^>]+> a445 7c04 	swm	t4,4\(a1\),7
[0-9a-f]+ <[^>]+> 8043 d7c5 	rotx	t4,t5,5,30,1
[0-9a-f]+ <[^>]+> 8043 d01f 	bitrevw	t4,t5
[0-9a-f]+ <[^>]+> 8043 d01f 	bitrevw	t4,t5
[0-9a-f]+ <[^>]+> 8043 d247 	bitrevb	t4,t5
[0-9a-f]+ <[^>]+> 8043 d247 	bitrevb	t4,t5
[0-9a-f]+ <[^>]+> 8043 d247 	bitrevb	t4,t5
[0-9a-f]+ <[^>]+> 8043 d40f 	bitrevh	t4,t5
[0-9a-f]+ <[^>]+> 8043 d40f 	bitrevh	t4,t5
[0-9a-f]+ <[^>]+> 8043 d218 	byterevw	t4,t5
[0-9a-f]+ <[^>]+> 8043 d218 	byterevw	t4,t5
[0-9a-f]+ <[^>]+> 8043 d608 	byterevh	t4,t5
[0-9a-f]+ <[^>]+> 8043 d608 	byterevh	t4,t5
[0-9a-f]+ <[^>]+> 8043 d608 	byterevh	t4,t5
[0-9a-f]+ <[^>]+> 04bf fffd 	lapc	a1,[0-9a-f]+ <test\+0x1c0>
[0-9a-f]+ <[^>]+> 04a0 0000 	lapc	a1,[0-9a-f]+ <test\+0x1c8>
[0-9a-f]+ <[^>]+> 04a0 0004 	lapc	a1,[0-9a-f]+ <test\+0x1d0>
[0-9a-f]+ <[^>]+> 04bf fffe 	lapc	a1,[0-9a-f]+ <[^>]+>
[0-9a-f]+ <[^>]+> 04a0 0001 	lapc	a1,[0-9a-f]+ <[^>]+>
[0-9a-f]+ <[^>]+> e060 0002 	aluipc	t5,00000000 <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PCHI20	test
[0-9a-f]+ <[^>]+> e062 5002 	aluipc	t5,00025000 <[^>]+>
[0-9a-f]+ <[^>]+> 0063 0000 	addiu	t5,t5,0
			[0-9a-f]+: R_NANOMIPS_LO12	test
[0-9a-f]+ <[^>]+> 20a4 2150 	addu	a0,a0,a1
[0-9a-f]+ <[^>]+> 2148 4150 	addu	a4,a4,a6
[0-9a-f]+ <[^>]+> 2250 8150 	addu	s0,s0,s2
[0-9a-f]+ <[^>]+> 22f4 a150 	addu	s4,s4,s7
[0-9a-f]+ <[^>]+> 2165 2950 	addu	a1,a1,a7
[0-9a-f]+ <[^>]+> 222a 5150 	addu	a6,a6,s1
[0-9a-f]+ <[^>]+> 22d3 9950 	addu	s3,s3,s6
[0-9a-f]+ <[^>]+> 2135 a950 	addu	s5,s5,a5
[0-9a-f]+ <[^>]+> 210a 4150 	addu	a4,a6,a4
[0-9a-f]+ <[^>]+> 2297 a150 	addu	s4,s7,s4
[0-9a-f]+ <[^>]+> 20ab 2950 	addu	a1,a7,a1
[0-9a-f]+ <[^>]+> 2151 5150 	addu	a6,s1,a6
[0-9a-f]+ <[^>]+> 2276 9950 	addu	s3,s6,s3
[0-9a-f]+ <[^>]+> 22a9 a950 	addu	s5,a5,s5
[0-9a-f]+ <[^>]+> 20e6 3018 	mul	a2,a2,a3
[0-9a-f]+ <[^>]+> 2169 4818 	mul	a5,a5,a7
[0-9a-f]+ <[^>]+> 2271 8818 	mul	s1,s1,s3
[0-9a-f]+ <[^>]+> 2296 b018 	mul	s6,s6,s4
[0-9a-f]+ <[^>]+> 2127 3818 	mul	a3,a3,a5
[0-9a-f]+ <[^>]+> 220b 5818 	mul	a7,a7,s0
[0-9a-f]+ <[^>]+> 22b2 9018 	mul	s2,s2,s5
[0-9a-f]+ <[^>]+> 2117 b818 	mul	s7,s7,a4
[0-9a-f]+ <[^>]+> 20c7 3018 	mul	a2,a3,a2
[0-9a-f]+ <[^>]+> 212b 4818 	mul	a5,a7,a5
[0-9a-f]+ <[^>]+> 2233 8818 	mul	s1,s3,s1
[0-9a-f]+ <[^>]+> 22d4 b018 	mul	s6,s4,s6
[0-9a-f]+ <[^>]+> 20e9 3818 	mul	a3,a5,a3
[0-9a-f]+ <[^>]+> 2170 5818 	mul	a7,s0,a7
[0-9a-f]+ <[^>]+> 2255 9018 	mul	s2,s5,s2
[0-9a-f]+ <[^>]+> 22e8 b818 	mul	s7,a4,s7
[0-9a-f]+ <[^>]+> 88e6 0000 	beqc	a2,a3,[0-9a-f]+ <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PC14_S1	.L11
[0-9a-f]+ <[^>]+> 88c6 0000 	beqc	a2,a2,[0-9a-f]+ <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PC14_S1	.L11
[0-9a-f]+ <[^>]+> 88c7 0000 	beqc	a3,a2,[0-9a-f]+ <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PC14_S1	.L11
[0-9a-f]+ <[^>]+> 8806 0000 	beqzc	a2,[0-9a-f]+ <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PC14_S1	.L11
[0-9a-f]+ <[^>]+> 8000 c000 	nop
[0-9a-f]+ <[^>]+> a8e6 0000 	bnec	a2,a3,[0-9a-f]+ <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PC14_S1	.L21
[0-9a-f]+ <[^>]+> a8c6 0000 	bnec	a2,a2,[0-9a-f]+ <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PC14_S1	.L21
[0-9a-f]+ <[^>]+> a8c7 0000 	bnec	a3,a2,[0-9a-f]+ <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PC14_S1	.L21
[0-9a-f]+ <[^>]+> a806 0000 	bnezc	a2,[0-9a-f]+ <[^>]+>
			[0-9a-f]+: R_NANOMIPS_PC14_S1	.L21
[0-9a-f]+ <[^>]+> 8000 c000 	nop
[0-9a-f]+ <[^>]+> 2001 f37f 	eretnc
#pass
