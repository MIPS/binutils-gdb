2004-07-03  Richard Sandiford  <rsandifo@redhat.com>

	* config/tc-mips.c (HAVE_IN_PLACE_ADDENDS): New macro.
	(reloc_needs_lo_p): Only return true if HAVE_IN_PLACE_ADDENDS.
	(mips_frob_file): Rework so that only a single pass through the
	relocs is needed.  Allow %lo()s to have higher offsets than their
	corresponding %hi()s or %got()s.

testsuite/
	* gas/mips/elf{,el}-rel.d: Adjust so that the earliest %hi() matches
	the earliest %lo().
	* gas/mips/elf-rel11.d: Don't expect the relocs to be reordered.
	* gas/mips/elf-rel20.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2004-07-03  Maciej W. Rozycki  <macro@linux-mips.org>

	* gas/mips/elf-rel9.[sd]: Fix typo in %lo() expression.

2004-07-01  H.J. Lu  <hongjiu.lu@intel.com>

	* gas/ia64/group-1.d: New.
	* gas/ia64/group-1.s: Likewise.

	* gas/ia64/ia64.exp: Add group-1 to test comdat group.

2004-06-30  James E Wilson  <wilson@specifixinc.com>

	* gas/ia64/dv-imply.d: Update.
	* gas/ia64/dv-mutex.d: Likewise.
	* gas/ia64/dv-safe.d: Likewise.

2004-06-29  Alan Modra  <amodra@bigpond.net.au>

	* gas/m68k/mode5.s: Pad section.
	* gas/m68k/mode5.d: Update.

2004-06-28  Alan Modra  <amodra@bigpond.net.au>

	* gas/ppc/power4.d: Update.

2004-06-24  Alan Modra  <amodra@bigpond.net.au>

	* gas/i386/prescott.s: Remove fisttpd and fisttpq.
	* gas/i386/prescott.d: Update.

2004-06-08  Jakub Jelinek  <jakub@redhat.com>

	* gas/ia64/dv-raw-err.s: Add some new postinc tests.
	* gas/ia64/dv-raw-err.l: Updated.

2004-05-28  Peter Barada <peter@the-baradas.com>

	* gas/m68k/mode5.s: New test file.  Checks conversion of mode 5
	addressing with zero offset into mode 2 addressing.
	* gas/m68k/mode5.d: New file: Expected disassmbly.
	* gas/m68k/all.exp: Run new test.

2004-05-27  H.J. Lu  <hongjiu.lu@intel.com>

	* gas/ia64/regs.d: Updated.

2004-05-26  H.J. Lu  <hongjiu.lu@intel.com>

	* gas/ia64/ia64.exp: Run invalid-ar.
	
	* gas/ia64/invalid-ar.l: New file. Test invalid AR access.
	* gas/ia64/invalid-ar.s: Likewise.

2004-05-24  Peter Barada  <peter@the-baradas.com>

	* gas/m68k/mcf-emac.d: Provide correct disassembler results.
	* gas/m68k/mcf-mac.d: Provide correct disassembler results.

2004-05-20  H.J. Lu  <hongjiu.lu@intel.com>

	* gas/ia64/dv-srlz.d: Fix a typo.

2004-05-12  Ben Elliston  <bje@au.ibm.com>

	* gas/h8300/t03_add.exp: Remove stray semicolons.
	* gas/h8300/t04_sub.exp: Likewise.
	* gas/h8300/t05_cmp.exp: Likewise.
	* gas/h8300/t08_or.exp: Likewise.
	* gas/h8300/t09_xor.exp: Likewise.
	* gas/h8300/t10_and.exp: Likewise.
	* gas/hppa/reloc/reloc.exp: Likewise.
	* gas/hppa/unsorted/unsorted.exp: Likewise.
	* gas/i386/i386.exp: Likewise.
	* gas/m68hc11/m68hc11.exp: Likewise.
	* gas/mips/mips.exp: Likewise.
	* gas/sparc/sparc.exp: Likewise.
	* lib/gas-defs.exp: Likewise.

2004-05-11  Nick Clifton  <nickc@redhat.com>

	* gas/elf/section4.s: New test.  Checks label arithmetic when
	multiple same-name sections exist.
	* gas/elf/section4.d: New file: Expected section list
	* gas/elf/elf.exp: Run the new test.
	* gas/elf/group0.s: Use % instead of @ for type argument to
	.section directive (for compatability with ARM port).
	* gas/elf/group1.s: Likewise.

2004-05-07  Richard Sandiford  <rsandifo@redhat.com>

	* gas/mips/vr4122.[sd]: Rename to...
	* gas/mips/vr4120-2.[sd]: ...and add tests for VR4181A errata
	MD(1) and MD(4).
	* gas/mips/mips.exp: Update accordingly.

2004-05-05  Alexandre Oliva  <aoliva@redhat.com>

	* gas/frv/reloc1.d: Match elf32-frvfdpic as well.
	* gas/frv/fr405-insn.d: Likewise.
	* gas/frv/fr450-insn.d: Likewise.

2004-04-30  H.J. Lu  <hongjiu.lu@intel.com>

	* gas/elf/elf.exp: Remove group1, add group1a and group1b for
	section group.

	* gas/elf/group1a.d: New file.
	* gas/elf/group1b.d: Likewise.

	* gas/elf/group1.e: Removed.

2004-04-30  Nick Clifton  <nickc@redhat.com>

	* gas/arm/reg-alias.s: New file: Test case sensitive register
	aliases.
	* gas/arm/reg-alias.d: New file: Expected test output.
	* gas/arm/arm.exp: Run reg-alias test.
	Arrange tests in a more orderly fashion.

2004-04-30  Ben Elliston  <bje@au.ibm.com>

	* gas/ppc/power4.s: Add dcbz and dcbzl test cases.
	* gas/ppc/power4.d: Update accordingly.

2004-04-26  H.J. Lu  <hongjiu.lu@intel.com>

	* gas/elf/elf.exp: Add group0a, group0b and group1 for section
	group.

	* gas/elf/group0.s: New file.
	* gas/elf/group0a.d: Likewise.
	* gas/elf/group0b.d: Likewise.
	* gas/elf/group1.e: Likewise.
	* gas/elf/group1.s: Likewise.

2004-04-23  Nick Clifton  <nickc@redhat.com>

	* gas/symver/symver1.d: Cope with extra symbols inserted by
	arm-elf toolchains.
	* gas/symver/symver0.d: Likewise
	* gas/elf/symver.d: Likewise.

2004-04-22  Kaz Kojima  <kkojima@rr.iij4u.or.jp>

	* gas/sh/pcrel2.d: Update.
	* gas/sh/tlsd.d: Update.
	* gas/sh/tlsnopic.d: Update.
	* gas/sh/tlspic.d: Update.

2004-04-22  Mark Kettenis  <kettenis@gnu.org>

	* lib/gas-defs.exp (is_elf_format): Add OpenBSD support.

2004-04-22  Atsushi Nemoto  <anemo@mba.ocn.ne.jp>

	* gas/mips/lb-xgot-ilocks.d: Remove nops in load delay slot.
	* gas/mips/mips-abi32-pic.d: Likewise.
	* gas/mips/mips-abi32-pic2.d: Likewise.
	* gas/mips/mips-gp32-fp32-pic.d: Likewise.
	* gas/mips/mips-gp32-fp64-pic.d: Likewise.
	* gas/mips/mips-gp64-fp32-pic.d: Likewise.
	* gas/mips/mips-gp64-fp64-pic.d: Likewise.
	* gas/mips/relax-swap1-mips2.d: Likewise.
	* gas/mips/lb-svr4pic-ilocks.d: New test.
	* gas/mips/mips.exp: Run it.

2004-04-22  Paul Brook  <paul@codesourcery.com>

	* maverick.c (off8s): Test full shifted operand range.
	(MCC2): Define.
	(MVDSPACC, MVACCDSP): Use it.
	* maverick.d, maverick.s: Regenerate.

2004-04-22  Peter Barada <peter@the-baradas.com>

	* gas/m68k/mcf-mac.s: New test: Check ColdFire MAC instructions.
	* gas/m68k/mcf-emac.s: New test: Similar checks.
	* gas/m68k/mcf-mac.d: New test: Expected output.
	* gas/m68k/mcf-emac.d: New test: Likewise.
	* gas/m68k/all.exp: Run new tests.

2004-04-21  Chris Demetriou  <cgd@broadcom.com>

	* gas/mips/elempic.d: File removed as part of -membedded-pic removal.
	* gas/mips/empic.d: Likewise.
	* gas/mips/empic.l: Likewise.
	* gas/mips/empic.s: Likewise.
	* gas/mips/empic2.d: Likewise.
	* gas/mips/empic2.s: Likewise.
	* gas/mips/empic3_e.d: Likewise.
	* gas/mips/empic3_e.s: Likewise.
	* gas/mips/empic3_g1.d: Likewise.
	* gas/mips/empic3_g1.s: Likewise.
	* gas/mips/empic3_g2.d: Likewise.
	* gas/mips/empic3_g2.s: Likewise.
	* gas/mips/jal-empic-elf-2.d: Likewise.
	* gas/mips/jal-empic-elf-2.s: Likewise.
	* gas/mips/jal-empic-elf-3.d: Likewise.
	* gas/mips/jal-empic-elf-3.s: Likewise.
	* gas/mips/jal-empic-elf.d: Likewise.
	* gas/mips/jal-empic.d: Likewise.
	* gas/mips/la-empic.d: Likewise.
	* gas/mips/la-empic.s: Likewise.
	* gas/mips/lb-empic.d: Likewise.
	* gas/mips/ld-empic.d: Likewise.
	* gas/mips/lif-empic.d: Likewise.
	* gas/mips/telempic.d: Likewise.
	* gas/mips/tempic.d: Likewise.
	* gas/mips/ulh-empic.d: Likewise.
	* gas/mips/ld-pic.s: Remove code conditional on EMPIC.
	* gas/mips/lifloat.s: Likewise.
	* gas/mips/mips.exp: Remove -membedded-pic tests and related comments.

2004-04-20  Brian Ford  <ford@vss.fsi.com>
	    DJ Delorie  <dj@redhat.com>

	* gas/i386/secrel.s: New test for .secrel32.
	* gas/i386/secrel.d: Likewise.
	* gas/i386/i386.exp: Call it for PE targets.

2004-04-19  Jakub Jelinek  <jakub@redhat.com>

	* gas/cfi/cfi-sparc64-1.d: Update.

2004-04-14  Richard Sandiford  <rsandifo@redhat.com>

	* gas/mips/vr4122.[sd]: Change option to -mfix-vr4120.

2004-04-14  Richard Sandiford  <rsandifo@redhat.com>

	* gas/elf/section2.e-mips: Allow named section symbols.
	* gas/mips/{,el}empic.d, gas/mips/mips{,el}16-[ef].d: Likewise.

2004-04-13  Kazuhiro Inaoka  <inaoka.kazuhiro@renesas.com>

	* gas/m32r/parallel-2.s: New file: Test	case for parallel code.
	* gas/m32r/parallel-2.d: New file: Expected results.
	* gas/m32r/m32r2.exp: Run the test.
	
	* gas/m32r/seth.s: New file: Test for seth.
	* gas/m32r/seth.d: New file: Expected results.
	* gas/m32r/m32r.exp: Run the new test.

2004-04-01  Asgari Jinia  <asgarij@kpitcummins.com>

	* gas/sh/renesas-1.s, gas/sh/renesas-1.d: New test for -renesas
	option.
	* gas/sh/basic.exp: Run the new test.

2004-04-01  Dave Korn  <dk@artimi.com>

	* gas/dlx/alltests.exp: Execute new lohi test.
	* gas/dlx/lohi.s: New test for spurious lo16/hi16
	  reloc overflow checking.
	* gas/dlx/lohi.d: New file: expected output.
	* gas/dlx/lhi.d: Updated to properly expect lo16
	  relocations where asked for.
	* gas/dlx/itype.d: Likewise.
	* gas/dlx/lhi.d: Corrected cut+paste error in test name.

2004-03-30  Stan Shebs  <shebs@apple.com>

	* gas/macros/macros.exp: Remove mention of MPW config.

2004-03-27  Alan Modra  <amodra@bigpond.net.au>

	* gas/i860/dir-intel03-err.l: Update for junk at end line becoming
	an error.
	* gas/m68hc11/m68hc11.exp: Likewise.

2004-03-23  Andreas Schwab  <schwab@suse.de>

	* gas/cfi/cfi-m68k.d: Adjust offsets.

2004-03-22  Hans-Peter Nilsson  <hp@axis.com>

	* gas/cris/regreg.d: Assemble with --no-mul-bug-abort.
	* gas/cris/mulbug-err-1.s, gas/cris/rd-mulbug-1.d: New tests.

2004-03-17  Kaz Kojima  <kkojima@rr.iij4u.or.jp>

	* gas/cfi/cfi-sh-1.d: New file.
	* gas/cfi/cfi-sh-1.s: Likewise.	
	* gas/cfi/cfi.exp: Add SH case.

2004-03-16  Alan Modra  <amodra@bigpond.net.au>

	* gas/ppc/altivec.d: Update.
	* gas/ppc/altivec_xcoff.d: Update.
	* gas/ppc/altivec_xcoff64.d: Update.
	* gas/ppc/astest.d: Update.
	* gas/ppc/astest2.d: Update.
	* gas/ppc/astest2_64.d: Update.
	* gas/ppc/astest64.d: Update.
	* gas/ppc/booke.d: Update.
	* gas/ppc/booke_xcoff.d: Update.
	* gas/ppc/booke_xcoff64.d: Update.
	* gas/ppc/e500.d: Update.
	* gas/ppc/power4.d: Update.
	* gas/ppc/test1elf32.d: Update.
	* gas/ppc/test1elf64.d: Update.
	* gas/ppc/test1xcoff32.d: Update.

2004-03-15  Alan Modra  <amodra@bigpond.net.au>

	* gas/i386/padlock.s: Pad with .p2align.
	* gas/i386/padlock.d: Adjust.

2004-03-12  Michal Ludvig  <mludvig@suse.cz>

	* gas/i386/padlock.s, gas/i386/padlock.d: New tests for
	VIA PadLock instructions.
	* gas/i386/i386.exp: Run padlock tests.

2004-03-12  Alan Modra  <amodra@bigpond.net.au>

	* gas/i386/katmai.d: Revert last change.

	* gas/i386/katmai.d: Adjust for clflush change.

2004-03-08  Andreas Jaeger  <aj@suse.de>

	* gas/cfi/cfi-s390x-1.d: Adjust offsets.

2004-03-07  Richard Henderson  <rth@redhat.com>

	* gas/cfi/cfi-common-2.d, gas/cfi/cfi-i386.d: Adjust offsets.

2004-03-07  Andreas Jaeger  <aj@suse.de>

	* gas/cfi/cfi-x86_64.d: Adjust offsets.

2004-03-07  Richard Henderson  <rth@redhat.com>

	* gas/alpha/elf-reloc-8.d, gas/cfi/cfi-alpha-1.d,
	gas/cfi/cfi-alpha-2.d, gas/cfi/cfi-alpha-3.d, gas/cfi/cfi-common-1.d,
	gas/cfi/cfi-common-2.d, gas/cfi/cfi-common-3.d: Adjust offsets.

2004-03-03  Kaz Kojima  <kkojima@rr.iij4u.or.jp>

	* gas/sh/sh64/err-dsp.s: Fix expected error message.

2004-03-01  Richard Sandiford  <rsandifo@redhat.com>

	* gas/frv/fr405-insn.[sdl]: New test.
	* gas/frv/fr450-spr.[sd]: New test.
	* gas/frv/fr450-insn.[sdl]: New test.
	* gas/frv/fr450-media-issue.[sl]: New test.
	* gas/frv/allinsn.exp: Run new tests.  Ensure fr405 instructions
	aren't accepted for -mcpu=fr400 or -mcpu=fr500.  Ensure fr450
	instructions aren't accepted for -mcpu=fr400, -mcpu=fr405 or
	-mcpu=fr500.

2004-03-01  Richard Sandiford  <rsandifo@redhat.com>

	* gas/frv/allinsn.s (rstb, rsth, rst, rstd, rstq): Replace with nops.
	(rstbf, rsthf, rstf, rstdf, rstqf): Likewise.
	* gas/frv/allinsn.d: Update accordingly.

2004-02-17  Petko Manolov  <petkan@nucleusys.com>

	* gas/arm/maverick.c: DSPSC to/from opcode fixes.
	* gas/arm/maverick.d: Likewise.
	* gas/arm/maverick.s: Likewise.

2004-02-09  Kaz Kojima  <kkojima@rr.iij4u.or.jp>

	* gas/sh/basic.exp: Don't do sh4a tests for sh5.

2004-02-06  Nathan Sidwell  <nathan@codesourcery.com>

	* gas/macros/test2.s: Lowercase it.

2004-02-02  Maciej W. Rozycki  <macro@ds2.pg.gda.pl>

	* gas/mips/div.d: Update to accomodate changes in macro
	expansions.
	gas/mips/elf-rel-got-n32.d: Likewise.
	gas/mips/elf-rel-got-n64.d: Likewise.
	gas/mips/elf-rel-xgot-n32.d: Likewise.
	gas/mips/elf-rel-xgot-n64.d: Likewise.
	gas/mips/la-svr4pic.d: Likewise.
	gas/mips/la-xgot.d: Likewise.
	gas/mips/lca-svr4pic.d: Likewise.
	gas/mips/lca-xgot.d: Likewise.

2004-02-01  Kaz Kojima  <kkojima@rr.iij4u.or.jp>

	* gas/sh/sh4a-fp.d: Fix opcode name fssra to fsrra.
	* gas/sh/sh4a-fp.s: Likewise.
	* gas/sh/err-sh4a-fp.s: Likewise.

2004-01-24  Chris Demetriou  <cgd@broadcom.com>

	* gas/mips/relax-swap1.s: Add extra space at end, so the
	disassembly will consistently have "..." at its end.
	* gas/mips/relax-swap2.s: Likewise.
	* gas/mips/relax-swap1-mips2.d: Expect "..." at end of disassembly.

2004-01-23  Daniel Jacobowitz  <drow@mvista.com>

	* gas/arm/arm.exp: Add "undefined" test.
	* gas/arm/undefined.s, gas/arm/undefined.l: New files.

2004-01-23  Richard Sandiford  <rsandifo@redhat.com>

	* gas/mips/macro-warn-[1234].[sdl]: New tests.
	* gas/mips/macro-warn-[12]-n32.[dl]: New tests.
	* gas/mips/mips.exp: Run them.

2004-01-23  Richard Sandiford  <rsandifo@redhat.com>

	* gas/mips/elf-rel19.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2004-01-11 Tom Rix   <tcrix@worldnet.att.net>

	* gas/m68hc11/movb.s: Add m68hc12 movb and movw dump test.
	* gas/m68hc11/movb.d: Likewise.
	* gas/m68hc11/m68hc11.exp: Likewise.  Add more movb failure tests.

2004-01-19  Alan Modra  <amodra@bigpond.net.au>

	* gas/i386/katmai.d: Adjust for changed sib printing.
	* gas/i386/prescott.d: Likewise.
	* gas/i386/sse2.d: Likewise.
	* gas/i386/ssemmx2.d: Likewise.

2004-01-16  Alexandre Oliva  <aoliva@redhat.com>

	* gas/mn10300/mov5.s: New.
	* gas/mn10300/basic.exp (do_mov5): New.

2004-01-14  Maciej W. Rozycki  <macro@ds2.pg.gda.pl>

	* gas/mips/relax-swap1-mips1.d: New test for branch relaxation
	with swapping for MIPS1.
	* gas/mips/relax-swap1-mips2.d: New test for branch relaxation
	with swapping for MIPS2.
	* gas/mips/relax-swap1.l: Stderr output for the new tests.
	* gas/mips/relax-swap1.s: Source for the new tests.
	* gas/mips/relax-swap2.d: New test for branch likely relaxation
	with swapping.
	* gas/mips/relax-swap2.l: Stderr output for the new test.
	* gas/mips/relax-swap2.s: Source for the new test.
	* gas/mips/mips.exp: Run the new tests.

2004-01-13  Ian Lance Taylor  <ian@wasabisystems.com>

	* gas/mips/mips16-64.d: New test.
	* gas/mips/mips.exp: Run it.

2004-01-12  Richard Sandiford  <rsandifo@redhat.com>

	* gas/mips/elf-rel18.[sd]: New test.
	* gas/mips/mips.exp: Run it.

2004-01-09  Paul Brook  <paul@codesourcery.com>

	* gas/arm/vfp2.s, gas/arm/vfp2.d: New test.
	* gas/arm/arm.exp: Add them.

2004-01-08  Ian Lance Taylor  <ian@wasabisystems.com>

	* gas/mips/ldstla-n64.d: Pass -64 to assembler, not -n64.
	* gas/mips/ldstla-n64-shared.d: Likewise.

2004-01-07  Nick Clifton  <nickc@redhat.com>

	* gas/cris/rd-dw2-1.d: Expect a pointer size from readelf.

2004-01-06  Alexandre Oliva  <aoliva@redhat.com>

	2003-11-05  Alexandre Oliva  <aoliva@redhat.com>
	* lib/gas-defs.exp (is_elf_format): Match frv-uclinux.
	2003-09-18  Alexandre Oliva  <aoliva@redhat.com>
	* gas/frv/fdpic.s, gas/frv/fdpic.d: Renamed from ucpic*.
	2003-09-15  Alexandre Oliva  <aoliva@redhat.com>
	* gas/frv/ucpic.s, gas/frv/ucpic.d: Use gr15 as PIC register.  Use
	gprel12 for rodata symbol and gotoff12 for sdata symbol.
	2003-08-08  Alexandre Oliva  <aoliva@redhat.com>
	* gas/frv/ucpic.d: Test gotoff and gotofffuncdesc.
	2003-08-04  Alexandre Oliva  <aoliva@redhat.com>
	* gas/frv/ucpic.d, gas/frv/ucpic.s: New.
	* gas/frv/allinsns.exp: Run it.

2004-01-02  Albert Bartoszko  <albar@nt.kegel.com.pl>

	* gas/msp430/opcode.s: Add test for an 'add' instruction which
	looks similar to an 'rla' instruction.

For older changes see ChangeLog-9303

Local Variables:
mode: change-log
left-margin: 8
fill-column: 74
version-control: never
End:
